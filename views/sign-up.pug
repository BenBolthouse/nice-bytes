extends ./layout.pug

block content
  link(rel="preconnect" href="https://fonts.gstatic.com")
  link(href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet")
  link(rel='stylesheet' href='/stylesheets/auth-splash.css')
  script(src="/javascripts/auth-splash.js")
  div(class="page")
    div(class="page-content page-width")
      div(class="auth-splash")
        div(class="auth-splash__panel-1")
          h1 Viol√°!
          p(class="sub-text") Just like that...1,654 local restaurants.
        div(class="auth-splash__panel-2")
          a(href="/users/login" class="auth-splash__tab--inactive login-tab") Login
          a(href="/users/signup" class="auth-splash__tab--active auth-splash-tab") Sign up
          form(id="authForm" class="auth-splash__form" action="/users/signup", method="post")
            div(id="submittingOverlay" class="auth-splash__submitting--hide")
              div(class="auth-splash__submitting-icon")
            fieldset
              div(class="auth-splash__form-group")
                label(for="firstName") First name
                input(type="text" name="firstName" value=prefill.firstName)
                - var firstNameErrorState = errorMessages.firstName.length ? "invalid" : "valid";
                if errorMessages.firstName.length
                  div(id="firstNameMessageIcon" class="auth-splash__validation-icon--" + firstNameErrorState)
                  ul(id="firstNameMessageList" class="auth-splash__form-messages--hide")
                    each message in errorMessages.firstName
                      li= message
              div(class="auth-splash__form-group")
                label(for="firstName") Last name
                input(type="text" name="lastName" value=prefill.lastName)
                - var lastNameErrorState = errorMessages.lastName.length ? "invalid" : "valid";
                if errorMessages.lastName.length
                  div(id="lastNameMessageIcon" class="auth-splash__validation-icon--" + lastNameErrorState)
                  ul(id="lastNameMessageList" class="auth-splash__form-messages--hide")
                    each message in errorMessages.lastName
                      li= message
              div(class="auth-splash__form-group")
                label(for="firstName") Username
                input(type="text" name="username" required=true value=prefill.username)
                - var usernameErrorState = errorMessages.username.length ? "invalid" : "valid";
                if errorMessages.username.length
                  div(id="usernameMessageIcon" class="auth-splash__validation-icon--" + usernameErrorState)
                  ul(id="usernameMessageList" class="auth-splash__form-messages--hide")
                    each message in errorMessages.username
                      li= message
              div(class="auth-splash__form-group")
                label(for="firstName") Email
                input(type="email" name="email" required=true value=prefill.email)
                - var emailErrorState = errorMessages.email.length ? "invalid" : "valid";
                if errorMessages.email.length
                  div(id="emailMessageIcon" class="auth-splash__validation-icon--" + emailErrorState)
                  ul(id="emailMessageList" class="auth-splash__form-messages--hide")
                    each message in errorMessages.email
                      li= message
              div(class="auth-splash__form-group")
                label(for="firstName") Password
                input(type="password" name="password" required=true)
                - var passwordErrorState = errorMessages.password.length ? "invalid" : "valid";
                if errorMessages.password.length
                  div(id="passwordMessageIcon" class="auth-splash__validation-icon--" + passwordErrorState)
                  ul(id="passwordMessageList" class="auth-splash__form-messages--hide")
                    each message in errorMessages.password
                      li= message
              div(class="auth-splash__form-group")
                label(for="firstName") Confirm password
                input(type="password" name="confirmPassword" required=true)
                - var confirmPasswordErrorState = errorMessages.confirmPassword.length ? "invalid" : "valid";
                if errorMessages.confirmPassword.length
                  div(id="confirmPasswordMessageIcon" class="auth-splash__validation-icon--" + confirmPasswordErrorState)
                  ul(id="confirmPasswordMessageList" class="auth-splash__form-messages--hide")
                    each message in errorMessages.confirmPassword
                      li= message
              //- CSRF protection field
              input(type="hidden" name="_csrf" value=csrfToken)
              button(type="submit") Sign up
